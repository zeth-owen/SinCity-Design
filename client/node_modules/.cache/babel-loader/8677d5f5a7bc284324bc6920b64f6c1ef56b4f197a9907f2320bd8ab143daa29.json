{"ast":null,"code":"import React,{useState}from'react';import StickyFooter from'../StickyFooter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoSearch=()=>{const[query,setQuery]=useState('');const[photos,setPhotos]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[searchCompleted,setSearchCompleted]=useState(false);// Track if search is completed\nconst handleSearch=async()=>{setLoading(true);setError(null);setSearchCompleted(false);// Reset search completed state before starting a new search\ntry{const response=await fetch(`https://api.unsplash.com/search/photos?page=1&query=${query}`,{headers:{Authorization:`Client-ID ${process.env.REACT_APP_ACCESS_KEY}`}});if(!response.ok){throw new Error(`Failed to fetch photos: ${response.status} ${response.statusText}`);}const data=await response.json();setPhotos(data.results);}catch(error){console.error('Error fetching photos:',error.message);setError('Error fetching photos. Please try again later.');}finally{setLoading(false);setSearchCompleted(true);// Mark search as completed\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"background-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Photos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Search Photos...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",onClick:handleSearch,disabled:loading,children:loading?'Searching...':'Search'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Searching...\"}):photos.length>0?photos.map(photo=>/*#__PURE__*/_jsx(\"div\",{className:\"template-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsx(\"img\",{src:photo.urls.regular,alt:photo.alt_description})})},photo.id)):searchCompleted?/*#__PURE__*/_jsx(\"p\",{children:\"No photos found.\"}):null}),/*#__PURE__*/_jsx(StickyFooter,{})]});};export default PhotoSearch;","map":{"version":3,"names":["React","useState","StickyFooter","jsx","_jsx","jsxs","_jsxs","PhotoSearch","query","setQuery","photos","setPhotos","loading","setLoading","error","setError","searchCompleted","setSearchCompleted","handleSearch","response","fetch","headers","Authorization","process","env","REACT_APP_ACCESS_KEY","ok","Error","status","statusText","data","json","results","console","message","className","children","type","value","onChange","e","target","placeholder","onClick","disabled","length","map","photo","src","urls","regular","alt","alt_description","id"],"sources":["/Users/zeththomas/Documents/sincity-media/client/src/photography/PhotoSearch.js"],"sourcesContent":["import React, { useState } from 'react';\nimport StickyFooter from '../StickyFooter'; \n\nconst PhotoSearch = () => {\n  const [query, setQuery] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchCompleted, setSearchCompleted] = useState(false); // Track if search is completed\n\n  const handleSearch = async () => {\n    setLoading(true);\n    setError(null);\n    setSearchCompleted(false); // Reset search completed state before starting a new search\n\n    try {\n      const response = await fetch(`https://api.unsplash.com/search/photos?page=1&query=${query}`, {\n        headers: {\n          Authorization: `Client-ID ${process.env.REACT_APP_ACCESS_KEY}`\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch photos: ${response.status} ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      setPhotos(data.results);\n    } catch (error) {\n      console.error('Error fetching photos:', error.message);\n      setError('Error fetching photos. Please try again later.');\n    } finally {\n      setLoading(false);\n      setSearchCompleted(true); // Mark search as completed\n    }\n  };\n\n  return (\n    <div className='background-container'>\n      <h1 className='page-title'>Photos</h1>\n      <div className=\"search-container\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder=\"Search Photos...\"\n          className=\"search-input\"\n        />\n        <button className=\"search-button\" onClick={handleSearch} disabled={loading}>\n          {loading ? 'Searching...' : 'Search'}\n        </button>\n      </div>\n\n      {error && <p className=\"error-message\">{error}</p>}\n\n      <div className=\"template-grid\">\n        {loading ? (\n          <p>Searching...</p>\n        ) : photos.length > 0 ? (\n          photos.map(photo => (\n            <div key={photo.id} className=\"template-card\">\n              <div className=\"card-content\">\n                <img src={photo.urls.regular} alt={photo.alt_description} />\n              </div>\n            </div>\n          ))\n        ) : searchCompleted ? (\n          <p>No photos found.</p>\n        ) : null}\n      </div>\n      <StickyFooter />\n    </div>\n  );\n};\n\nexport default PhotoSearch;\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}